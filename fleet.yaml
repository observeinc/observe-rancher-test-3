defaultNamespace: observe

helm:
  # The chart repo and name:
  chart: "agent"
  repo: "https://observeinc.github.io/helm-charts"

  # Helm release name
  releaseName: "observe-agent"

  # Since we set defaultNamespace: observe, we could omit `namespace:` here,
  # but you can include it explicitly if you like:
  # namespace: "observe"

  # Pull values from a preexisting secret for collection endpoint/token/trace
  valuesFrom:
    - secretKeyRef:
        name: agent-credentials
        key: OBSERVE_COLLECTION_ENDPOINT
      targetPath: "observe.collectionEndpoint.value"
    - secretKeyRef:
        name: agent-credentials
        key: OBSERVE_TOKEN
      targetPath: "observe.token.value"
    - secretKeyRef:
        name: agent-credentials
        key: TRACE_TOKEN
      targetPath: "observe.traceToken.value"

  # All other Helm values go here:
  values:
    agent:
      selfMonitor:
        enabled: false
    application:
      prometheusScrape:
        enabled: true
    cluster:
      events:
        enabled: true
      metrics:
        enabled: true
      name: observe-agent-monitored-cluster
    node:
      enabled: true
      containers:
        logs:
          enabled: true
        metrics:
          enabled: true
    forwarder:
      enabled: true
      traces:
        enabled: true
      metrics:
        enabled: true
      logs:
        enabled: true
    observe:
      token:
        create: false
      traceToken:
        create: false
defaultNamespace: observe

helm:
  chart: "agent"                    # chart name
  repo: "https://observeinc.github.io/helm-charts"
  version: "0.51.1"
  # valuesFrom:
  #   - secretKeyRef:
  #       name: agent-credentials
  #       key: OBSERVE_COLLECTION_ENDPOINT
  #     # targetPath: "observe.collectionEndpoint.value"
  # valuesFrom:
  #   - targetPath: "values.observe.collectionEndpoint.value"
  #     valueFrom:
  #       secretKeyRef:
  #         name: agent-credentials
  #         key: OBSERVE_COLLECTION_ENDPOINT
  #   - targetPath: "values.observe.token.value"
  #     valueFrom:
  #       secretKeyRef:
  #         name: agent-credentials
  #         key: OBSERVE_TOKEN
  #   - targetPath: "values.observe.traceToken.value"
  #     valueFrom:
  #       secretKeyRef:
  #         name: agent-credentials
  #         key: TRACE_TOKEN

  # no releaseName, no valuesFrom, minimal values
  values:
    agent:
      config:
        global:
          debug:
            enabled: false
            # values basic, normal, detailed
            verbosity: detailed
      selfMonitor:
        enabled: false
    application:
      prometheusScrape:
        enabled: true
    cluster:
      events:
        enabled: true
      metrics:
        enabled: true
      name: observe-agent-monitored-cluster
    node:
      enabled: true
      containers:
        logs:
          enabled: true
        metrics:
          enabled: true
      forwarder:
        enabled: true
        traces:
          enabled: true
        metrics:
          enabled: true
        logs:
          enabled: true
    observe:
      # We no longer hardcode .collectionEndpoint.value here,
      # because Fleet will fill it from the secret.
      collectionEndpoint:
        value: "https://132284333042.collect.observe-eng.com/"
      token:
        create: false
        value: ""
      traceToken:
        create: false
        value: ""

defaultNamespace: observe

helm:
  chart: "agent"                    # chart name
  repo: "https://observeinc.github.io/helm-charts"
  # version: "0.51.1"

  # Enable or confirm "disablePreProcess" is false so Fleet processes templating.
  # (This is usually the default, but some Fleet versions require you to specify.)
  disablePreProcess: false
  
  values:
    agent:
      selfMonitor:
        enabled: false
    application:
      prometheusScrape:
        enabled: true
    cluster:
      events:
        enabled: true
      metrics:
        enabled: true
      # If a cluster does not have the env label, the expansion becomes an empty stringâ€”meaning the name might become "-monitored-cluster". 
      # If you want a fallback, you can do something like:
      name: "${ .ClusterLabels.env | default \"unknown\" }-observe-monitored-cluster"
    node:
      enabled: true
      containers:
        logs:
          enabled: true
        metrics:
          enabled: true
      forwarder:
        enabled: true
        traces:
          enabled: true
        metrics:
          enabled: true
        logs:
          enabled: true
    observe:
      collectionEndpoint:
        value: "https://132284333042.collect.observe-eng.com/"
      token:
        create: false
      traceToken:
        create: false
  # # Use targetCustomizations to override cluster name per environment
  # targetCustomizations:
  #   - name: cluster-1
  #     clusterSelector:
  #       matchLabels:
  #         env: "dev1"
  #     values:
  #       cluster:
  #         name: "observe-agent-monitored-cluster-dev1"
  #   - name: cluster-2
  #     clusterSelector:
  #       matchLabels:
  #         env: "dev2"
  #     values:
  #       cluster:
  #         name: "observe-agent-monitored-cluster-dev2"

  #   - name: cluster-3
  #     clusterSelector:
  #       matchLabels:
  #         env: "dev3"
  #     values:
  #       cluster:
  #         name: "observe-agent-monitored-cluster-dev3"

  #   - name: cluster-4
  #     clusterSelector:
  #       matchLabels:
  #         env: "dev4"
  #     values:
  #       cluster:
  #         name: "observe-agent-monitored-cluster-dev4"